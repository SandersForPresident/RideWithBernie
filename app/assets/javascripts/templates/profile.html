<div class="row">
  <div class="col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4">
    <div class='header'>
      <small>Ridesharing to {{eventTitle}}</small>
    </div>
    <a ng-href="#/profiles/{{profile.uuid}}/search" class='btn btn-info btn-sm pull-right' ng-if='!profile.newRecord'>People &raquo;</a>
    <a href="#/" class='btn btn-info btn-sm'>&laquo; Back</a>
    <p class='lead text-center'>
      Profile
    </p>
    <div class='alert alert-danger' ng-if='errors.fullMessages' id='errors'>
      <ul>
        <li ng-repeat='error in errors.fullMessages'><small>{{error}}</small></li>
      </ul>
    </div>

    <form name='profileForm' ng-submit='save()'>

      <div class='form-group' ng-class="errors['driver'] ? 'has-error' : ''">
        <p> Can you drive? </p>
        <label class="radio-inline">
          <input type="radio" name="driver" ng-model='profile.driver'
                 ng-value='true' value="true" required='required'
                 ng-change='errors.driver = false'> Yes
        </label>
        <label class="radio-inline">
          <input type="radio" name="driver" ng-model='profile.driver'
                 ng-value='false' value="false" required='required'
                 ng-change='errors.driver = false'> No
        </label>
      </div>

      <div class='form-group' ng-class="errors['first_name'] ? 'has-error' : ''">
        <label for="first_name">What's your first name?</label>
        <input type="text" class="form-control" name="first_name"
               ng-model='profile.first_name' required='required'
               ng-change='errors.first_name = false'>
      </div>

      <div class='form-group' ng-class="errors['phone'] ? 'has-error' : ''">
        <label for="phone">What's your cell phone number?</label>
        <input type="tel" class="form-control" name="phone"
               ng-model='profile.phone' required='required'
               ng-change='errors.phone = false'>
        <p class="help-block text-muted">Weâ€™ll need to send you text messages.</p>
      </div>

      <div class='form-group' ng-class="errors['location'] ? 'has-error' : ''">
        <label for="location">Where are you leaving from?</label>
        <input type="text" class="form-control" name="location"
               ng-model='profile.location' required='required'
               ng-change='errors.location = false'>
        <p class="help-block text-muted">Which town, and what part of town?</p>
      </div>

      <div class='form-group' ng-if='profile.driver !== undefined && profile.driver' ng-class="errors['spots'] ? 'has-error' : ''">
        <label for="spots">How many spots do you have?</label>
        <select name='spots' class='form-control' ng-model='profile.spots'
                required='required' ng-change='errors.spots = false'>
          <option ng-selected='profile.spots == 1' value='1'>I have room for one other</option>
          <option ng-selected='profile.spots == 2' value='2'>I have room for two others</option>
          <option ng-selected='profile.spots == 3' value='3'>I have room for three others</option>
          <option ng-selected='profile.spots == 4' value='4'>I have room for four others</option>
          <option ng-selected='profile.spots == 5' value='5'>I have room for five others</option>
          <option ng-selected='profile.spots == 6' value='6'>I have room for six others</option>
          <option ng-selected='profile.spots == 7' value='7'>I have room for seven others</option>
        </select>
      </div>

      <div class='form-group' ng-if='profile.driver !== undefined && !profile.driver' ng-class="errors['plus_ones'] ? 'has-error' : ''">
        <label for="plus_ones">Are you traveling with others?</label>
        <select name='plus_ones' class='form-control' ng-model='profile.plus_ones'
                required='required' ng-change='errors.plus_ones = false'>
          <option ng-selected='profile.plus_ones == 0' value='0'>No, I just need a ride myself</option>
          <option ng-selected='profile.plus_ones == 1' value='1'>Yup, I'm traveling with 1 other</option>
          <option ng-selected='profile.plus_ones == 2' value='2'>Yup, I'm traveling with 2 others</option>
          <option ng-selected='profile.plus_ones == 3' value='3'>Yup, I'm traveling with 3 others</option>
          <option ng-selected='profile.plus_ones == 4' value='4'>Yup, I'm traveling with 4 others</option>
          <option ng-selected='profile.plus_ones == 5' value='5'>Yup, I'm traveling with 5 others</option>
          <option ng-selected='profile.plus_ones == 6' value='6'>Yup, I'm traveling with 6 others</option>
          <option ng-selected='profile.plus_ones == 7' value='7'>Yup, I'm traveling with 7 others</option>
        </select>
      </div>

      <div class='form-group'>
        <button class='btn btn-danger btn-block btn-lg' ng-if='!profile.newRecord'
                ng-disabled="state.saving || state.deleting" ng-click='delete()'>
          {{ state.deleting ? 'Deleting...' : 'Delete my profile' }}
        </button>
        <button class='btn btn-success btn-block btn-lg' ng-disabled="state.saving || state.deleting">
          {{ state.saving ? 'Saving...' : 'Save' }}
        </button>
      </div>

    </form>
  </div>
</div>
